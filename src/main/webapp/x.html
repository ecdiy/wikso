
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Admin</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<!-- stylesheets -->
<link rel="stylesheet" type="text/css"
	href="s/smooth/resources/css/reset.css" />
<link rel="stylesheet" type="text/css"
	href="s/smooth/resources/css/style.css" media="screen" />
<link id="color" rel="stylesheet" type="text/css"
	href="s/smooth/resources/css/colors/blue.css" />


<!--[if IE]><script language="javascript" type="text/javascript" src="s/smooth/resources/scripts/excanvas.min.js"></script><![endif]-->

<script src="s/smooth/resources/scripts/jquery-1.4.2.min.js"
	type="text/javascript"></script>

<script src="s/smooth/resources/scripts/jquery-ui-1.8.custom.min.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/jquery.ui.selectmenu.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/jquery.flot.min.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/tiny_mce/tiny_mce.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/tiny_mce/jquery.tinymce.js"
	type="text/javascript"></script>



<script src="s/smooth/resources/scripts/smooth.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/smooth.menu.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/smooth.table.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/smooth.form.js"
	type="text/javascript"></script>
<script src="s/smooth/resources/scripts/smooth.dialog.js"
	type="text/javascript"></script>



<script type="text/javascript"
	src="/test/dwr/engine.js"></script>
<script type="text/javascript"
	src="/test/dwr/util.js"></script>
<script type="text/javascript"
	src="/test/dwr/interface/dwra.js"></script>

<script type="text/javascript">
	$(document).ready(function() {
		style_path = "s/smooth/resources/css/colors";
		$("#box-tabs, #box-left-tabs").tabs();
	});
</script>

</head>
<body>
	<div id="colors-switcher" class="color">
		<a href="" class="blue" title="Blue"></a> <a href="" class="green"
			title="Green"></a> <a href="" class="brown" title="Brown"></a> <a
			href="" class="purple" title="Purple"></a> <a href="" class="red"
			title="Red"></a> <a href="" class="greyblue" title="GreyBlue"></a>
	</div>

	<div id="header">
		<!-- logo -->
		<div id="logo">
			<h1>
				<a href="" title="Smooth Admin"><img
					src="s/smooth/resources/images/logo.png" alt="Smooth Admin" /></a>
			</h1>
		</div>

		<div id="header-inner">
			<div id="home">
				<a href="" title="Home"></a>
			</div>
			<!-- quick -->
			<ul id="quick">
			</ul>
			<!-- end quick -->
			<div class="corner tl"></div>
			<div class="corner tr"></div>
		</div>
	</div>
	<div id="content">
		<div id="left">
			<div id="menu">
				<h6 id="h-menu-links" class="selected">
					<a href="#links"><span>所有方案</span></a>
				</h6>
				<ul id="menu-links" class="opened">
					
						<li><a href="scheme.jspa?id=1">test</a></li>
					
						<li><a href="scheme.jspa?id=2">test2</a></li>
					
						<li><a href="scheme.jspa?id=3">五行图</a></li>
					
					<li>------------------------</li>
					<li><a href="craeteScheme.jsp">创建方案</a></li>
				</ul>


				<h6 id="h-menu-links" class="selected">
					<a href="#tables"><span>表设计</span></a>
				</h6>
				<ul id="menu-links" class="opened">
					<li><a href="designTable.jspa?tbl=Factor">因子属性表</a></li>
					<li><a href="designTable.jspa?tbl=FactorRelation">因子关系表</a></li>
					<li><a href="designTable.jspa?tbl=FactorAttr">因子属性表</a></li>
				</ul>

			</div>
		</div>
		<div id="right">
			

<div id="box-tabs" class="box">
	<!-- box / title -->
	<div class="title">
		<h5>test2</h5>
		<ul class="links">
			<li><a href="#box-ViewFsa">关系图</a></li>
			<li><a href="#box-Factor">因子属性</a></li>
			<li><a href="#box-FactorRelation">因子参数</a></li>
			<li><a href="#box-FactorAttr">因子关系</a></li>
		</ul>
	</div>
	<!-- box / title -->
	<div id="box-ViewFsa">
		

<div class="table">
	<script src="s/lib/json2.js" type="text/javascript"></script>
	<script src="s/lib/raphael.js" type="text/javascript"></script>
	<script src="s/src/joint.js" type="text/javascript"></script>
	<script src="s/src/joint.arrows.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.serializer.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.fsa.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.uml.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.pn.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.devs.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.cdm.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.erd.js" type="text/javascript"></script>
	<script src="s/src/joint.dia.org.js" type="text/javascript"></script>

	<style type="text/css">
#world {
	background-color: white;
	margin: 0 auto 0 auto;
	width: 800px;
	height: 1000px;
	border: 3px solid gray;
	border-radius: 30px;
}

#title {
	position: fixed;
	left: 10px;
	top: 10px;
	color: white;
	font-size: 14px;
}

#description {
	position: fixed;
	left: 10px;
	top: 45px;
	color: white;
	font-size: 12px;
	width: 250px;
}

#source {
	left: 20px;
	font-size: 12px;
}

#funMenu,#funMenu li {
	width: 80px;
	float: left
}
</style>
	<script type="text/javascript">
		function gup(name) {
			name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
			var regexS = "[\\?&]" + name + "=([^&#]*)";
			var regex = new RegExp(regexS);
			var results = regex.exec(window.location.href);
			if (results == null)
				return "";
			else
				return results[1];
		}
		function init() {
			var srcs = gup("unit").split(',');
			for ( var i = 0, l = srcs.length; i < l; i++) {
				var sel = document.createElement("script");
				sel.type = "text/javascript";
				sel.src = "http://"
						+ document.location.host
						+ "/test/data.jspa?id=2&role=&oid=";
				document.getElementsByTagName("head").item(0).appendChild(sel);
			}
		}

		function dimension(w, h) {
			var world = document.getElementById('world');
			world.style.width = w + 'px';
			world.style.height = h + 'px';
		}
		$(function() {
			init();
		});

		var schemeId = "2";
		function save() {
			var pos = "";
			for ( var i = 0; i < all.length; i++) {
				var x = (all[i].properties.dx + all[i].properties.position.x);
				var y = (all[i].properties.dy + all[i].properties.position.y);
				if (x < 0)
					x = x * (-1);
				if (y < 0)
					y = y * (-1);
				pos += x + "," + y + ";";
			}
			dwra.savePoints(schemeId, pos);
		}
	</script>
	<ul id="funMenu">
		<li><a href="?id=2&role=0">所有</a></li>
		<li><a href="?id=2&role=1">过滤孤立点</a></li>

		


		<li><a id="source" href="#" onclick="save()">保存</a></li>
	</ul>

	<div id="world"></div>


</div>
	</div>

	<div id="box-Factor">
		
<div class="table">
	
	
	<script type="text/javascript">
	function del(tbl,id){
		dwra.sqlExec("delete from "+tbl+" where id="+id,{
		  	callback: function(){
		  	window.location.reload(true);
		  	}
		  }) ;
	}
	
	</script>
	<br> <br>
	<div id="box-left-forms">
		<form action="addTblData.jspa" method="post">
			<input type="hidden" name="tbl" value="Factor"> <input
				type="hidden" name="schemeId" value="2">
			<div class="form">
				<div class="fields">
					
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">name:</label></div><div class="input"><input type="text" id="name" name="name" /></div></div>							
						
					
						
					
										 
				 <input type="hidden" name="x" value="0">							
						
					
										 
				 <input type="hidden" name="y" value="0">							
						
					
					<div class="buttons">
						<input type="submit" name="submit" value="数据添加" /> <input
							type="reset" name="reset" value="取消" />
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
	</div>


	<div id="box-FactorAttr">
<div class="table">
	
	
	<script type="text/javascript">
	function del(tbl,id){
		dwra.sqlExec("delete from "+tbl+" where id="+id,{
		  	callback: function(){
		  	window.location.reload(true);
		  	}
		  }) ;
	}
	
	</script>
	<br> <br>
	<div id="box-left-forms">
		<form action="addTblData.jspa" method="post">
			<input type="hidden" name="tbl" value="FactorAttr"> <input
				type="hidden" name="schemeId" value="2">
			<div class="form">
				<div class="fields">
					
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">attrLevel:</label></div><div class="input"><input type="text" id="attrLevel" name="attrLevel" /></div></div>							
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">attrType:</label></div><div class="input"><input type="text" id="attrType" name="attrType" /></div></div>							
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">label:</label></div><div class="input"><input type="text" id="label" name="label" /></div></div>							
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">name:</label></div><div class="input"><input type="text" id="name" name="name" /></div></div>							
						
					
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">val:</label></div><div class="input"><input type="text" id="val" name="val" /></div></div>							
						
					
					<div class="buttons">
						<input type="submit" name="submit" value="数据添加" /> <input
							type="reset" name="reset" value="取消" />
					</div>
				</div>
			</div>
		</form>
	</div>
</div></div>

	<div id="box-FactorRelation">
<div class="table">
	
	
	<script type="text/javascript">
	function del(tbl,id){
		dwra.sqlExec("delete from "+tbl+" where id="+id,{
		  	callback: function(){
		  	window.location.reload(true);
		  	}
		  }) ;
	}
	
	</script>
	<br> <br>
	<div id="box-left-forms">
		<form action="addTblData.jspa" method="post">
			<input type="hidden" name="tbl" value="FactorRelation"> <input
				type="hidden" name="schemeId" value="2">
			<div class="form">
				<div class="fields">
					
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">fid1:</label></div><div class="input"><select  id="fid1" name="fid1"></select></div></div>							
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">fid2:</label></div><div class="input"><select  id="fid2" name="fid2"></select></div></div>							
						
					
										 
				 <div class="field field-first"><div class="label">	<label for="input">label:</label></div><div class="input"><select  id="label" name="label"></select></div></div>							
						
					
						
					
					<div class="buttons">
						<input type="submit" name="submit" value="数据添加" /> <input
							type="reset" name="reset" value="取消" />
					</div>
				</div>
			</div>
		</form>
	</div>
</div></div>
</div>


		</div>
	</div>
	<div id="footer">
		<p>Copyright &copy; 2013-2013 . All Rights Reserved.</p>
	</div>
</body>
</html>